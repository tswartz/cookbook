<div class="settings" role="tabpanel">
	<h1 class="page-title">Settings - <span class="settings-username">{{$parent.user.username}}</span></h1>
  	<hr/>
  	<h3 class="page-subtitle">Categories</h3>
  	<div class="toolbar" role="toolbar">
  		<div class="btn-group" role="group" aria-label="edit-delete">
        	<button type="button" class="btn btn-default" ng-click="editCategory()"><span class="fa fa-pencil"/></button>
        	<button type="button" class="btn btn-default" ng-click="deleteCategory()"><span class="fa fa-trash"/></button>
      	</div>
      	<div class="btn-group" role="group" aria-label="add">
        <button type="button" class="btn btn-default" ng-click="addCategory()">
          <span class="fa fa-plus"/>
        </button>
      </div>
  	</div>
  	<ul class="list-group categories-list">
  		<li class="list-group-item disabled">All</li>
		<li class="list-group-item" ng-repeat="category in $parent.user.categories" ng:class="{true:'active-group-item', false:''}[selectedCategory == category]" ng-click="selectCategory(category)" ng-show="category != 'All'">
		{{category}}
		</li>
	</ul>
</div>

<div class="modal fade" id="addEditCategoryModal" tabindex="-1" role="dialog" aria-labelledby="addEditCategoryModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="addEditCategoryModalLabel">{{dialogTitle}}</h4>
          </div>
          <form name="form" novalidate>
          <div class="modal-body">
            <input type="text" name="name" placeholder="Category name..." class='form-control' ng-model="newCategory" required>
            <div class="error-message" ng-show="form.$submitted">
              <span ng-show="form.name.$error.required">Category name required.</span>
            </div>
          </div>
          <div class="modal-footer">
              <button class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-click="submitCategory(newCategory)">{{dialogAction}}</button>
          </div>
        </form>
      </div>
    </div>
</div>

<div class="modal fade" id="deleteCategoryModal" tabindex="-1" role="dialog" aria-labelledby="deleteCategoryModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="deleteCategoryModalLabel">Delete Category?</h4>
          </div>
          <form name="form" novalidate>
          <div class="modal-body">
            <input type="checkbox" id="moveRecipes" name="moveRecipes" ng-model="deleteCategory.moveRecipes">
            <label for="moveRecipes">Move recipes in {{selectedCategory}} to another category</label>
            <select name="newCategory" class="form-control" ng-show="deleteCategory.moveRecipes" ng-model="deleteCategory.newCategory" ng-required='deleteCategory.moveRecipes'>
              <option value="" disabled selected>Select category</option>
              <option ng-repeat="category in nonAllCategories" value="{{category}}">{{category}}</option>
            </select>
            <div class="error-message" ng-show="form.$submitted">
              <span ng-show="form.newCategory.$error.required">Category name required.</span>
            </div>
          </div>
          <div class="modal-footer">
              <button class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-click="submitCategory(deleteCategory)">Delete</button>
          </div>
        </form>
      </div>
    </div>
</div>

<div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="errorModalLabel">Error</h4>
          </div>
          <div class="modal-body">
            <p>{{errorMessage}}</p>
          </div>
          <div class="modal-footer">
              <button type="submit" class="btn btn-primary" data-dismiss="modal">OK</button>
          </div>
      </div>
    </div>
</div>

<div class="modal fade" id="selectRecipeModal" tabindex="-1" role="dialog" aria-labelledby="selectRecipeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="selectRecipeModalLabel">Select a recipe</h4>
          </div>
          <div class="modal-body">
            <p>Please select a recipe first.</p>
          </div>
          <div class="modal-footer">
              <button type="submit" class="btn btn-primary" data-dismiss="modal">OK</button>
          </div>
      </div>
    </div>
</div>